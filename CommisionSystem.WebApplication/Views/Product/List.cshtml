@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_Layout";
    ViewData["Title"] = "Products List";
}

@inject IJsonHelper Json;
@model List<CommisionSystem.WebApplication.Models.ViewModels.ReadProductModel>

<div class="col col-12">
    <h5 class="text-muted">
        List of products
    </h5>
</div>

<div class="col col-sm-12">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#quotes" role="tab" aria-controls="quotes" aria-selected="true">Products</a>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div id="products" class="tab-pane fade show active" role="tabpanel" aria-labelledby="quotes-tab"></div>
    </div>
    <script>

            $(document).ready(function () {
                $("#products").kendoGrid({
                    columns: [
                        { width: 300, field: "productName", title: "Product Name" },
                        { field: "code", title: "Code" },
                        { field: "brand", title: "Brand" },
                        { field: "unitsInStock", title: "Units In Stock" },
                        { field: "price", title: "Price" },
                        { field: "currency", title: "Currency" },
                        { field: "priceInRials", title: "Price In Rials" },
                        { field: "lastUpdate", title: "Last Currency Update" },

                    ],
                    dataSource: {
                        type: "json",
                        transport: {
                            read: "/API/Product"
                        },
                        pageSize: 10
                    },
                    selectable: true,
                    toolbar: ["excel", "pdf", "search"],
                    search: {
                        fields: ["productName","code"]
                    },
                    excel: {
                        fileName: "Products Export.xlsx"
                    },
                    pdf: {
                        fileName: "Products Export.pdf"
                    },

                    sortable: true,
                    pageable: true,

                });
            });

    </script>
</div>
